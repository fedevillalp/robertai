{"ast":null,"code":"import _classCallCheck from \"/Users/federico/Library/Mobile Documents/com~apple~CloudDocs/Personal Federico [iCloud]/Projectos/Transcriber/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/federico/Library/Mobile Documents/com~apple~CloudDocs/Personal Federico [iCloud]/Projectos/Transcriber/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/federico/Library/Mobile Documents/com~apple~CloudDocs/Personal Federico [iCloud]/Projectos/Transcriber/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/federico/Library/Mobile Documents/com~apple~CloudDocs/Personal Federico [iCloud]/Projectos/Transcriber/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/federico/Library/Mobile Documents/com~apple~CloudDocs/Personal Federico [iCloud]/Projectos/Transcriber/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/federico/Library/Mobile Documents/com~apple~CloudDocs/Personal Federico [iCloud]/Projectos/Transcriber/client/src/App.js\";\nimport React, { Component } from \"react\";\nimport Transcript from \"./components/Transcript\";\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport \"./App.css\";\nimport Navbar from \"./components/navbar\";\nimport BarChart from \"./components/barChart\";\nimport TextFields from \"./components/Textfields\";\nimport RegistrationPage from \"./pages/registrationpage\";\nimport Uploader from \"./components/Uploader\";\nimport FrontPage from \"./pages/FrontPage\";\nimport LoginPage from \"./pages/LoginPage\";\nimport loginController from \"./controllers/LoginController\";\nimport FileInfoList from \"./components/FileInfoList\";\nimport UploadPage from \"./pages/UploadPage\";\nimport NumberSelector from \"./components/NumberSelector\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      words: [],\n      topWords: null,\n      data: [],\n      transcript: \"Your transcript will appear here\",\n      user: null,\n      fileList: null\n    };\n\n    _this.setUser = function (user) {\n      console.log(\"setUser\", user);\n\n      _this.setState({\n        user: user\n      });\n    };\n\n    _this.wordMap = function (text) {\n      //This function received a text string and returns \n      // one object of word:times_repeated pairs for all words\n      // and one vector in the order ot repetition from high to low\n      var textArray = text.split(\" \");\n      var wordContainer = [];\n      var keysSorted = null;\n\n      for (var i = 0; i < textArray.length; i++) {\n        wordContainer[textArray[i]] = (wordContainer[textArray[i]] || 0) + 1; //use key value pairs \n      }\n\n      keysSorted = Object.keys(wordContainer).sort(function (a, b) {\n        return wordContainer[b] - wordContainer[a];\n      });\n      createWordMapData(wordContainer, keysSorted);\n      return {\n        wordContainer: wordContainer,\n        keysSorted: keysSorted\n      };\n    };\n\n    _this.updateTopWords = function (topWords) {\n      _this.setState({\n        topWords: topWords\n      }); //make call to wordCounter\n\n    };\n\n    _this.updateResults = function (wordstoCount) {\n      _this.setState({\n        words: wordstoCount\n      });\n\n      _this.wordCount(_this.state.transcript, wordstoCount.toString().trim());\n    };\n\n    _this.getTranscript = function (transcript) {\n      // console.log('getTranscript text', transcript)\n      _this.setState({\n        transcript: transcript\n      });\n    };\n\n    _this.uploaderUrlChanged = function (url) {\n      _this.setState({\n        uploaderUrl: url\n      });\n    };\n\n    _this.wordCount = function (text, words) {\n      var counter = 0;\n      var textArray = text.split(\" \");\n      var searchTerms = words.split(\" \");\n      var result = [];\n\n      for (var k = 0; k < searchTerms.length; k++) {\n        for (var i = 0; i < textArray.length; i++) {\n          if (textArray[i] === searchTerms[k]) {\n            counter++;\n          }\n        }\n\n        result[k] = counter;\n        counter = 0;\n      }\n\n      _this.createObject(result, searchTerms);\n\n      return result;\n    };\n\n    _this.createObject = function (result, searchTerms) {\n      var data = [];\n\n      for (var i = 0; i < searchTerms.length; i++) {\n        data.push({\n          name: searchTerms[i],\n          pv: result[i]\n        });\n      } //Update state to refresh chart\n\n\n      _this.setState({\n        data: data\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    //Authentication Methods\n    value: function componentDidMount() {\n      console.log(\"componentDidMount\");\n      loginController.addUserChangedListener(this.setUser);\n      loginController.recheckLogin();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      console.log(\"WillUnmount\");\n      loginController.removeUserChangedListener(this.setUser);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Router, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        loginController: loginController,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }), React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, !this.state.user && React.createElement(Route, {\n        path: \"/RegistrationPage\",\n        component: RegistrationPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }), !this.state.user && React.createElement(Route, {\n        path: \"/LoginPage/:reason?\",\n        component: LoginPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }), !this.state.user && React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        component: FrontPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }), this.state.user && React.createElement(Route, {\n        exact: true,\n        path: \"/UserHomePage\",\n        render: function render(props) {\n          return React.createElement(UploadPage, {\n            user_id: _this2.state.user.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 146\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), this.state.user && React.createElement(Route, {\n        exact: true,\n        path: \"/Results/:fileInfoId?\",\n        render: function render(props) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 154\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"container\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 155\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"row \",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 156\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"col col-lg-6\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157\n            },\n            __self: this\n          }, React.createElement(Transcript, {\n            getTranscript: _this2.getTranscript,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 158\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"col col-lg-6\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 160\n            },\n            __self: this\n          }, React.createElement(TextFields, {\n            updateResults: _this2.updateResults,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 161\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 162\n            },\n            __self: this\n          }), React.createElement(BarChart, {\n            data: _this2.state.data,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 163\n            },\n            __self: this\n          }), React.createElement(NumberSelector, {\n            updateTopWords: _this2.updateTopWords,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 164\n            },\n            __self: this\n          })))));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;\n{\n  /* { this.state.user ? <div>User: {this.state.user.username} UserID: {this.state.user.id}</div> : null } */\n}","map":{"version":3,"sources":["/Users/federico/Library/Mobile Documents/com~apple~CloudDocs/Personal Federico [iCloud]/Projectos/Transcriber/client/src/App.js"],"names":["React","Component","Transcript","BrowserRouter","Router","Route","Switch","Link","Navbar","BarChart","TextFields","RegistrationPage","Uploader","FrontPage","LoginPage","loginController","FileInfoList","UploadPage","NumberSelector","App","state","words","topWords","data","transcript","user","fileList","setUser","console","log","setState","wordMap","text","textArray","split","wordContainer","keysSorted","i","length","Object","keys","sort","a","b","createWordMapData","updateTopWords","updateResults","wordstoCount","wordCount","toString","trim","getTranscript","uploaderUrlChanged","url","uploaderUrl","counter","searchTerms","result","k","createObject","push","name","pv","addUserChangedListener","recheckLogin","removeUserChangedListener","props","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Transcript from \"./components/Transcript\";\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport \"./App.css\";\nimport Navbar from \"./components/navbar\";\nimport BarChart from \"./components/barChart\";\nimport TextFields from \"./components/Textfields\";\nimport RegistrationPage from \"./pages/registrationpage\";\nimport Uploader from \"./components/Uploader\";\nimport FrontPage from \"./pages/FrontPage\";\nimport LoginPage from \"./pages/LoginPage\";\nimport loginController from \"./controllers/LoginController\"\nimport FileInfoList from \"./components/FileInfoList\";\nimport UploadPage from \"./pages/UploadPage\";\nimport NumberSelector from \"./components/NumberSelector\";\n\n\n\nclass App extends Component {\n\n  state = {\n    words: [],\n    topWords: null,\n    data: [],\n    transcript: \"Your transcript will appear here\",\n    user: null,\n    fileList: null\n  };\n\n  //Authentication Methods\n\n  componentDidMount() {\n    console.log(\"componentDidMount\");\n    loginController.addUserChangedListener(this.setUser);\n    loginController.recheckLogin();\n  }\n\n  componentWillUnmount() {\n    console.log(\"WillUnmount\");\n    loginController.removeUserChangedListener(this.setUser);\n  }\n\n  setUser = (user) => {\n    console.log(\"setUser\", user);\n    this.setState({ user: user });\n  }\n\n   wordMap = (text)=> {\n    //This function received a text string and returns \n    // one object of word:times_repeated pairs for all words\n    // and one vector in the order ot repetition from high to low\n  \n    let textArray = text.split(\" \");\n    let wordContainer = [];\n    let keysSorted = null;\n    \n    for(let i=0; i<textArray.length;i++){\n      wordContainer[textArray[i]] = (wordContainer[textArray[i]] || 0 ) + 1; //use key value pairs \n    }\n    \n    keysSorted = Object.keys(wordContainer).sort(function(a,b){return wordContainer[b]-wordContainer[a]})\n    \n    createWordMapData(wordContainer,keysSorted)\n    return {wordContainer, keysSorted};\n  }\n\n  //get topWords from menu selector to know how many words to use for wordMap\n  updateTopWords = (topWords) => {\n    this.setState({topWords: topWords});\n    //make call to wordCounter\n  }\n\n  //Called from within <TextFields/> component provides words in input text box\n  updateResults = (wordstoCount) => {\n\n    this.setState({\n      words: wordstoCount\n    });\n\n    this.wordCount(this.state.transcript, wordstoCount.toString().trim())\n  }\n\n  getTranscript = (transcript) => {\n    // console.log('getTranscript text', transcript)\n    this.setState({ transcript: transcript })\n\n  }\n\n  uploaderUrlChanged = url => {\n    this.setState({ uploaderUrl: url });\n  }\n\n  //Receives a string with transcript and string with words to search\n  wordCount = (text, words) => {\n\n    let counter = 0;\n    let textArray = text.split(\" \");\n    let searchTerms = words.split(\" \");\n    let result = [];\n\n    for (let k = 0; k < searchTerms.length; k++) {\n      for (let i = 0; i < textArray.length; i++) {\n        if (textArray[i] === searchTerms[k]) {\n          counter++;\n        }\n      }\n      result[k] = counter;\n      counter = 0;\n    }\n\n    this.createObject(result, searchTerms)\n    return result;\n\n  }\n\n  //takes wordCount results creates object and updates state to refresh chart\n  createObject = (result, searchTerms) => {\n\n    let data = [];\n\n    for (let i = 0; i < searchTerms.length; i++) {\n      data.push({\n        name: searchTerms[i], pv: result[i]\n      })\n    }\n\n    //Update state to refresh chart\n    this.setState({\n      data: data\n    });\n  }\n\n  render() {\n\n    return (\n      <Router>\n        <Navbar loginController={loginController} />\n        <br /><br />\n        <Switch>\n          {!this.state.user && <Route path=\"/RegistrationPage\" component={RegistrationPage} />}\n          {!this.state.user && <Route path=\"/LoginPage/:reason?\" component={LoginPage} />}\n          {!this.state.user && <Route exact path=\"/\" component={FrontPage} />}\n\n          {this.state.user && <Route exact path=\"/UserHomePage\" render={props =>\n            <UploadPage user_id={this.state.user.id} />\n                \n              }\n            />}\n\n            \n          \n          {this.state.user && <Route exact path='/Results/:fileInfoId?' render={props =>\n            <div>\n              <div className=\"container\">\n                <div className=\"row \">\n                  <div className=\"col col-lg-6\">\n                    <Transcript getTranscript={this.getTranscript} />\n                  </div>\n                  <div className=\"col col-lg-6\">\n                    <TextFields updateResults={this.updateResults} />\n                    <br></br>\n                    <BarChart data={this.state.data} />\n                    <NumberSelector updateTopWords={this.updateTopWords}/>\n                    \n                  </div>\n                </div>\n              </div>\n            </div>\n          } />}\n          \n        </Switch>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n\n{/* { this.state.user ? <div>User: {this.state.user.username} UserID: {this.state.user.id}</div> : null } */ }\n\n\n\n"]},"metadata":{},"sourceType":"module"}