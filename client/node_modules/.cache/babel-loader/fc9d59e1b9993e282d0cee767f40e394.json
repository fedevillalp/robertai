{"ast":null,"code":"import _classCallCheck from \"/Users/federico/Library/Mobile Documents/com~apple~CloudDocs/Personal Federico [iCloud]/Projectos/Transcriber/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/federico/Library/Mobile Documents/com~apple~CloudDocs/Personal Federico [iCloud]/Projectos/Transcriber/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/federico/Library/Mobile Documents/com~apple~CloudDocs/Personal Federico [iCloud]/Projectos/Transcriber/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/federico/Library/Mobile Documents/com~apple~CloudDocs/Personal Federico [iCloud]/Projectos/Transcriber/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/federico/Library/Mobile Documents/com~apple~CloudDocs/Personal Federico [iCloud]/Projectos/Transcriber/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/federico/Library/Mobile Documents/com~apple~CloudDocs/Personal Federico [iCloud]/Projectos/Transcriber/client/src/App.js\";\nimport React, { Component } from \"react\";\nimport Transcript from \"./components/Transcript\";\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport \"./App.css\";\nimport Navbar from \"./components/navbar\";\nimport BarChart from \"./components/barChart\";\nimport TextFields from \"./components/Textfields\";\nimport RegistrationPage from \"./pages/registrationpage\";\nimport Uploader from \"./components/Uploader\";\nimport FrontPage from \"./pages/FrontPage\";\nimport LoginPage from \"./pages/LoginPage\";\nimport loginController from \"./controllers/LoginController\";\nimport FileInfoList from \"./components/FileInfoList\";\nimport UploadPage from \"./pages/UploadPage\";\nimport NumberSelector from \"./components/NumberSelector\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      words: [],\n      data: [],\n      transcript: \"Your transcript will appear here\",\n      user: null,\n      fileList: null\n    };\n\n    _this.setUser = function (user) {\n      console.log(\"setUser\", user);\n\n      _this.setState({\n        user: user\n      });\n    };\n\n    _this.updateResults = function (wordstoCount) {\n      _this.setState({\n        words: wordstoCount\n      });\n\n      _this.wordCount(_this.state.transcript, wordstoCount.toString().trim());\n    };\n\n    _this.getTranscript = function (transcript) {\n      // console.log('getTranscript text', transcript)\n      _this.setState({\n        transcript: transcript\n      });\n    };\n\n    _this.uploaderUrlChanged = function (url) {\n      _this.setState({\n        uploaderUrl: url\n      });\n    };\n\n    _this.wordCount = function (text, words) {\n      var counter = 0;\n      var textArray = text.split(\" \");\n      var searchTerms = words.split(\" \");\n      var result = [];\n\n      for (var k = 0; k < searchTerms.length; k++) {\n        for (var i = 0; i < textArray.length; i++) {\n          if (textArray[i] === searchTerms[k]) {\n            counter++;\n          }\n        }\n\n        result[k] = counter;\n        counter = 0;\n      }\n\n      _this.createObject(result, searchTerms);\n\n      return result;\n    };\n\n    _this.createObject = function (result, searchTerms) {\n      var data = [];\n\n      for (var i = 0; i < searchTerms.length; i++) {\n        data.push({\n          name: searchTerms[i],\n          pv: result[i]\n        });\n      } //Update state to refresh chart\n\n\n      _this.setState({\n        data: data\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    //Authentication Methods\n    value: function componentDidMount() {\n      console.log(\"componentDidMount\");\n      loginController.addUserChangedListener(this.setUser);\n      loginController.recheckLogin();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      console.log(\"WillUnmount\");\n      loginController.removeUserChangedListener(this.setUser);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Router, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        loginController: loginController,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, !this.state.user && React.createElement(Route, {\n        path: \"/RegistrationPage\",\n        component: RegistrationPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), !this.state.user && React.createElement(Route, {\n        path: \"/LoginPage/:reason?\",\n        component: LoginPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), !this.state.user && React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        component: FrontPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), this.state.user && React.createElement(Route, {\n        exact: true,\n        path: \"/UserHomePage\",\n        render: function render(props) {\n          return React.createElement(UploadPage, {\n            user_id: _this2.state.user.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), this.state.user && React.createElement(Route, {\n        exact: true,\n        path: \"/Results/:fileInfoId?\",\n        render: function render(props) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"container\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"row \",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"col col-lg-6\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }, React.createElement(Transcript, {\n            getTranscript: _this2.getTranscript,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"col col-lg-6\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134\n            },\n            __self: this\n          }, React.createElement(TextFields, {\n            updateResults: _this2.updateResults,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 136\n            },\n            __self: this\n          }), React.createElement(BarChart, {\n            data: _this2.state.data,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 137\n            },\n            __self: this\n          }), React.createElement(NumberSelector, {\n            update: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 138\n            },\n            __self: this\n          })))));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;\n{\n  /* { this.state.user ? <div>User: {this.state.user.username} UserID: {this.state.user.id}</div> : null } */\n}","map":{"version":3,"sources":["/Users/federico/Library/Mobile Documents/com~apple~CloudDocs/Personal Federico [iCloud]/Projectos/Transcriber/client/src/App.js"],"names":["React","Component","Transcript","BrowserRouter","Router","Route","Switch","Link","Navbar","BarChart","TextFields","RegistrationPage","Uploader","FrontPage","LoginPage","loginController","FileInfoList","UploadPage","NumberSelector","App","state","words","data","transcript","user","fileList","setUser","console","log","setState","updateResults","wordstoCount","wordCount","toString","trim","getTranscript","uploaderUrlChanged","url","uploaderUrl","text","counter","textArray","split","searchTerms","result","k","length","i","createObject","push","name","pv","addUserChangedListener","recheckLogin","removeUserChangedListener","props","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Transcript from \"./components/Transcript\";\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport \"./App.css\";\nimport Navbar from \"./components/navbar\";\nimport BarChart from \"./components/barChart\";\nimport TextFields from \"./components/Textfields\";\nimport RegistrationPage from \"./pages/registrationpage\";\nimport Uploader from \"./components/Uploader\";\nimport FrontPage from \"./pages/FrontPage\";\nimport LoginPage from \"./pages/LoginPage\";\nimport loginController from \"./controllers/LoginController\"\nimport FileInfoList from \"./components/FileInfoList\";\nimport UploadPage from \"./pages/UploadPage\";\nimport NumberSelector from \"./components/NumberSelector\";\n\n\n\nclass App extends Component {\n\n  state = {\n    words: [],\n    data: [],\n    transcript: \"Your transcript will appear here\",\n    user: null,\n    fileList: null\n  };\n\n  //Authentication Methods\n\n  componentDidMount() {\n    console.log(\"componentDidMount\");\n    loginController.addUserChangedListener(this.setUser);\n    loginController.recheckLogin();\n  }\n\n  componentWillUnmount() {\n    console.log(\"WillUnmount\");\n    loginController.removeUserChangedListener(this.setUser);\n  }\n\n  setUser = (user) => {\n    console.log(\"setUser\", user);\n    this.setState({ user: user });\n  }\n\n  //Called from within <TextFields/> component provides words in input text box\n  updateResults = (wordstoCount) => {\n\n    this.setState({\n      words: wordstoCount\n    });\n\n    this.wordCount(this.state.transcript, wordstoCount.toString().trim())\n  }\n\n  getTranscript = (transcript) => {\n    // console.log('getTranscript text', transcript)\n    this.setState({ transcript: transcript })\n\n  }\n\n  uploaderUrlChanged = url => {\n    this.setState({ uploaderUrl: url });\n  }\n\n  //Receives a string with transcript and string with words to search\n  wordCount = (text, words) => {\n\n    let counter = 0;\n    let textArray = text.split(\" \");\n    let searchTerms = words.split(\" \");\n    let result = [];\n\n    for (let k = 0; k < searchTerms.length; k++) {\n      for (let i = 0; i < textArray.length; i++) {\n        if (textArray[i] === searchTerms[k]) {\n          counter++;\n        }\n      }\n      result[k] = counter;\n      counter = 0;\n    }\n\n    this.createObject(result, searchTerms)\n    return result;\n\n  }\n\n  //takes wordCount results creates object and updates state to refresh chart\n  createObject = (result, searchTerms) => {\n\n    let data = [];\n\n    for (let i = 0; i < searchTerms.length; i++) {\n      data.push({\n        name: searchTerms[i], pv: result[i]\n      })\n    }\n\n    //Update state to refresh chart\n    this.setState({\n      data: data\n    });\n  }\n\n  render() {\n\n    return (\n      <Router>\n        <Navbar loginController={loginController} />\n        <br /><br />\n        <Switch>\n          {!this.state.user && <Route path=\"/RegistrationPage\" component={RegistrationPage} />}\n          {!this.state.user && <Route path=\"/LoginPage/:reason?\" component={LoginPage} />}\n          {!this.state.user && <Route exact path=\"/\" component={FrontPage} />}\n\n          {this.state.user && <Route exact path=\"/UserHomePage\" render={props =>\n            <UploadPage user_id={this.state.user.id} />\n                \n              }\n            />}\n\n            \n          \n          {this.state.user && <Route exact path='/Results/:fileInfoId?' render={props =>\n            <div>\n              <div className=\"container\">\n                <div className=\"row \">\n                  <div className=\"col col-lg-6\">\n                    <Transcript getTranscript={this.getTranscript} />\n                  </div>\n                  <div className=\"col col-lg-6\">\n                    <TextFields updateResults={this.updateResults} />\n                    <br></br>\n                    <BarChart data={this.state.data} />\n                    <NumberSelector update/>\n                    \n                  </div>\n                </div>\n              </div>\n            </div>\n          } />}\n          \n        </Switch>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n\n{/* { this.state.user ? <div>User: {this.state.user.username} UserID: {this.state.user.id}</div> : null } */ }\n\n\n\n"]},"metadata":{},"sourceType":"module"}